!function(a){"use strict";function b(){f(),g(),l(),i(),o()}function c(){p().init(),g(),h(),l(),h()}function d(){h()}function e(){}function f(){var b=a("audio.eltd-blog-audio");b.mediaelementplayer({audioWidth:"100%"})}function g(){if(a(".eltd-blog-holder.eltd-blog-type-masonry").length){var b=a(".eltd-blog-holder.eltd-blog-type-masonry");b.waitForImages(function(){b.isotope({itemSelector:"article",resizable:!1,masonry:{columnWidth:".eltd-blog-masonry-grid-sizer",gutter:".eltd-blog-masonry-grid-gutter"}}),b.addClass("eltd-appeared")});var c=a(".eltd-filter-blog-holder");a(".eltd-filter").click(function(){var d=a(this),e=d.attr("data-filter");return c.find(".eltd-active").removeClass("eltd-active"),d.addClass("eltd-active"),b.isotope({filter:e}),!1})}}function h(){var b,c=a(".eltd-blog-holder.eltd-blog-type-chequered");c.waitForImages(function(){c.isotope({itemSelector:"article",resizable:!1,masonry:{columnWidth:".eltd-blog-chequered-grid-sizer"}}),c.addClass("eltd-appeared"),b=a(".eltd-blog-chequered-grid-sizer").outerWidth(),c.children("article").css({height:b+"px"})}),a(window).resize(function(){b=a(".eltd-blog-chequered-grid-sizer").outerWidth(),c.children("article").css({height:b+"px"})})}function i(){var b=a(".eltd-blog-holder.eltd-blog-load-more");b.length&&b.each(function(){var c,d,e=a(this),f=e.find(".eltd-load-more-ajax-pagination .eltd-btn");(b.hasClass("eltd-blog-type-masonry")||b.hasClass("eltd-blog-type-masonry-gallery"))&&(f=b.next().find(".eltd-btn")),d=e.data("max-pages"),f.on("click",function(b){b.preventDefault(),b.stopPropagation();var h=j(e);if(c=h.nextPage,c<=d){var i=k(h);a.ajax({type:"POST",data:i,url:ElatedAjaxUrl,success:function(b){c++,e.data("next-page",c);var d=a.parseJSON(b),f=d.html;e.waitForImages(function(){e.hasClass("eltd-blog-type-masonry")?(e.append(f).isotope("reloadItems").isotope({sortBy:"original-order"}),g()):e.hasClass("eltd-blog-type-masonry-gallery")?(e.append(f).isotope("reloadItems").isotope({sortBy:"original-order"}),l(),o()):e.find("article:last").after(f),setTimeout(function(){eltd.modules.blog.eltdInitAudioPlayer(),eltd.modules.common.eltdOwlSlider(),eltd.modules.common.eltdFluidVideo()},400)})}})}c===d&&f.hide()})})}function j(a){var b={};return b.nextPage="",b.number="",b.category="",b.blogType="",b.archiveCategory="",b.archiveAuthor="",b.archiveTag="",b.archiveDay="",b.archiveMonth="",b.archiveYear="","undefined"!=typeof a.data("next-page")&&a.data("next-page")!==!1&&(b.nextPage=a.data("next-page")),"undefined"!=typeof a.data("post-number")&&a.data("post-number")!==!1&&(b.number=a.data("post-number")),"undefined"!=typeof a.data("category")&&a.data("category")!==!1&&(b.category=a.data("category")),"undefined"!=typeof a.data("blog-type")&&a.data("blog-type")!==!1&&(b.blogType=a.data("blog-type")),"undefined"!=typeof a.data("archive-category")&&a.data("archive-category")!==!1&&(b.archiveCategory=a.data("archive-category")),"undefined"!=typeof a.data("archive-author")&&a.data("archive-author")!==!1&&(b.archiveAuthor=a.data("archive-author")),"undefined"!=typeof a.data("archive-tag")&&a.data("archive-tag")!==!1&&(b.archiveTag=a.data("archive-tag")),"undefined"!=typeof a.data("archive-day")&&a.data("archive-day")!==!1&&(b.archiveDay=a.data("archive-day")),"undefined"!=typeof a.data("archive-month")&&a.data("archive-month")!==!1&&(b.archiveMonth=a.data("archive-month")),"undefined"!=typeof a.data("archive-year")&&a.data("archive-year")!==!1&&(b.archiveYear=a.data("archive-year")),b}function k(a){var b={action:"woly_elated_blog_load_more",nextPage:a.nextPage,number:a.number,category:a.category,blogType:a.blogType,archiveCategory:a.archiveCategory,archiveAuthor:a.archiveAuthor,archiveTag:a.archiveTag,archiveDay:a.archiveDay,archiveMonth:a.archiveMonth,archiveYear:a.archiveYear};return b}function l(){var b=a(".eltd-blog-holder.eltd-blog-type-masonry-gallery");b.length&&b.each(function(){var b=a(this);n(b),m(b),a(window).resize(function(){n(b),m(b)})})}function m(a){a.waitForImages(function(){a.isotope({itemSelector:"article",masonry:{columnWidth:".eltd-blog-masonry-gallery-grid-sizer"}}),a.addClass("eltd-appeared")})}function n(a){var b=a.find(".eltd-blog-masonry-gallery-grid-sizer").width(),c=a.find(".eltd-default-masonry-item"),d=a.find(".eltd-large-width-masonry-item"),e=a.find(".eltd-large-height-masonry-item"),f=a.find(".eltd-large-width-height-masonry-item");c.css("height",b),d.css("height",b),e.css("height",Math.round(2*b)),eltd.windowWidth>600?f.css("height",Math.round(2*b)):f.css("height",b)}function o(){var b=a(".eltd-blog-holder.eltd-blog-type-masonry-gallery"),c=b.find("article:not(.format-link):not(.format-quote)");c.length&&c.each(function(){var b=a(this),c=b.find(".eltd-post-text"),d=b.find(".eltd-post-excerpt").outerHeight(),e="translateY("+parseInt(d+15)+"px)";c.css({"-webkit-transform":e}),c.css({transform:e}),setTimeout(function(){c.css({visibility:"visible"})},500),a(window).resize(function(){var a=b.find(".eltd-post-excerpt").outerHeight();e="translateY("+parseInt(a+15)+"px)",c.css({"-webkit-transform":e}),c.css({transform:e})})})}function p(){var b=a(".eltd-blog-holder article.format-gallery"),c=b.find(".eltd-blog-gallery-masonry-holder"),d=c.find(".eltd-blog-gallery-sizer").outerWidth(),e=function(){var a=c.find(".eltd-blog-gallery-item.default"),b=c.find(".eltd-blog-gallery-img-large-height"),e=c.find(".eltd-blog-gallery-img-large-height-width");a.css("height",d),b.css("height",Math.round(2*d)),eltd.windowWidth>600?e.css("height",Math.round(2*d)):e.css("height",d)},f=function(){c.isotope({itemSelector:".eltd-blog-gallery-item",masonry:{columnWidth:".eltd-blog-gallery-sizer",gutter:".eltd-blog-gallery-gutter"}})};return{init:function(){e(),f(),a(window).resize(function(){e()})}}}var q={};eltd.modules.blog=q,q.eltdInitAudioPlayer=f,q.eltdInitBlogMasonry=g,q.eltdInitBlogChequered=h,q.eltdInitBlogMasonryGallery=l,q.eltdInitBlogLoadMore=i,q.eltdInitBlogMasonryGalleryContentPosition=o,q.eltdBlogGalleryMasonryImages=p,q.eltdOnDocumentReady=b,q.eltdOnWindowLoad=c,q.eltdOnWindowResize=d,q.eltdOnWindowScroll=e,a(document).ready(b),a(window).load(c),a(window).resize(d),a(window).scroll(e)}(jQuery);